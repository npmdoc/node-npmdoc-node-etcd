<html><head></head><body><div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a href="https://github.com/stianeikeland/node-etcd#readme">node-etcd (v5.0.3)</a>
</h1>
<h4>etcd library for node.js (etcd v2 api)</h4>
<div class="apidocSectionDiv"><a href="#apidoc.tableOfContents" id="apidoc.tableOfContents"><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.node-etcd">module node-etcd</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-etcd.client">
            function <span class="apidocSignatureSpan">node-etcd.</span>client
            <span class="apidocSignatureSpan">(hosts, options1, sslopts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-etcd.watcher">
            function <span class="apidocSignatureSpan">node-etcd.</span>watcher
            <span class="apidocSignatureSpan">(etcd, key, index, options)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">node-etcd.</span>client.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">node-etcd.</span>watcher.prototype</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.node-etcd.client">module node-etcd.client</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-etcd.client.client">
            function <span class="apidocSignatureSpan">node-etcd.</span>client
            <span class="apidocSignatureSpan">(hosts, options1, sslopts)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.node-etcd.client.prototype">module node-etcd.client.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-etcd.client.prototype._doRequest">
            function <span class="apidocSignatureSpan">node-etcd.client.prototype.</span>_doRequest
            <span class="apidocSignatureSpan">(options, reqRespHandler)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-etcd.client.prototype._error">
            function <span class="apidocSignatureSpan">node-etcd.client.prototype.</span>_error
            <span class="apidocSignatureSpan">(token, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-etcd.client.prototype._handleResponse">
            function <span class="apidocSignatureSpan">node-etcd.client.prototype.</span>_handleResponse
            <span class="apidocSignatureSpan">(err, resp, body, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-etcd.client.prototype._isHttpError">
            function <span class="apidocSignatureSpan">node-etcd.client.prototype.</span>_isHttpError
            <span class="apidocSignatureSpan">(err, resp)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-etcd.client.prototype._isPossibleLeaderElection">
            function <span class="apidocSignatureSpan">node-etcd.client.prototype.</span>_isPossibleLeaderElection
            <span class="apidocSignatureSpan">(errors)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-etcd.client.prototype._multiserverHelper">
            function <span class="apidocSignatureSpan">node-etcd.client.prototype.</span>_multiserverHelper
            <span class="apidocSignatureSpan">(servers, options, token, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-etcd.client.prototype._retry">
            function <span class="apidocSignatureSpan">node-etcd.client.prototype.</span>_retry
            <span class="apidocSignatureSpan">(token, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-etcd.client.prototype._shouldRetry">
            function <span class="apidocSignatureSpan">node-etcd.client.prototype.</span>_shouldRetry
            <span class="apidocSignatureSpan">(token)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-etcd.client.prototype._waitTime">
            function <span class="apidocSignatureSpan">node-etcd.client.prototype.</span>_waitTime
            <span class="apidocSignatureSpan">(retries)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-etcd.client.prototype.delete">
            function <span class="apidocSignatureSpan">node-etcd.client.prototype.</span>delete
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-etcd.client.prototype.execute">
            function <span class="apidocSignatureSpan">node-etcd.client.prototype.</span>execute
            <span class="apidocSignatureSpan">(method, options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-etcd.client.prototype.get">
            function <span class="apidocSignatureSpan">node-etcd.client.prototype.</span>get
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-etcd.client.prototype.patch">
            function <span class="apidocSignatureSpan">node-etcd.client.prototype.</span>patch
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-etcd.client.prototype.post">
            function <span class="apidocSignatureSpan">node-etcd.client.prototype.</span>post
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-etcd.client.prototype.put">
            function <span class="apidocSignatureSpan">node-etcd.client.prototype.</span>put
            <span class="apidocSignatureSpan">(options, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.node-etcd.watcher">module node-etcd.watcher</a><ol>

        <li>

            <span class="apidocSignatureSpan">boolean <span class="apidocSignatureSpan">node-etcd.watcher.</span>usingDomains</span>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-etcd.watcher.watcher">
            function <span class="apidocSignatureSpan">node-etcd.</span>watcher
            <span class="apidocSignatureSpan">(etcd, key, index, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-etcd.watcher.EventEmitter">
            function <span class="apidocSignatureSpan">node-etcd.watcher.</span>EventEmitter
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-etcd.watcher.init">
            function <span class="apidocSignatureSpan">node-etcd.watcher.</span>init
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-etcd.watcher.listenerCount">
            function <span class="apidocSignatureSpan">node-etcd.watcher.</span>listenerCount
            <span class="apidocSignatureSpan">(emitter, type)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">node-etcd.watcher.</span>defaultMaxListeners</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">node-etcd.watcher.</span>__super__</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.node-etcd.watcher.prototype">module node-etcd.watcher.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-etcd.watcher.prototype._error">
            function <span class="apidocSignatureSpan">node-etcd.watcher.prototype.</span>_error
            <span class="apidocSignatureSpan">(err)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-etcd.watcher.prototype._missingValue">
            function <span class="apidocSignatureSpan">node-etcd.watcher.prototype.</span>_missingValue
            <span class="apidocSignatureSpan">(headers)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-etcd.watcher.prototype._respHandler">
            function <span class="apidocSignatureSpan">node-etcd.watcher.prototype.</span>_respHandler
            <span class="apidocSignatureSpan">(err, val, headers)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-etcd.watcher.prototype._resync">
            function <span class="apidocSignatureSpan">node-etcd.watcher.prototype.</span>_resync
            <span class="apidocSignatureSpan">(err)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-etcd.watcher.prototype._retry">
            function <span class="apidocSignatureSpan">node-etcd.watcher.prototype.</span>_retry
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-etcd.watcher.prototype._unexpectedData">
            function <span class="apidocSignatureSpan">node-etcd.watcher.prototype.</span>_unexpectedData
            <span class="apidocSignatureSpan">(val, headers)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-etcd.watcher.prototype._valueChanged">
            function <span class="apidocSignatureSpan">node-etcd.watcher.prototype.</span>_valueChanged
            <span class="apidocSignatureSpan">(val, headers)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-etcd.watcher.prototype._watch">
            function <span class="apidocSignatureSpan">node-etcd.watcher.prototype.</span>_watch
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-etcd.watcher.prototype.constructor">
            function <span class="apidocSignatureSpan">node-etcd.watcher.prototype.</span>constructor
            <span class="apidocSignatureSpan">(etcd, key, index, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.node-etcd.watcher.prototype.stop">
            function <span class="apidocSignatureSpan">node-etcd.watcher.prototype.</span>stop
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.node-etcd" id="apidoc.module.node-etcd">module node-etcd</a></h1>


    <h2>
        <a href="#apidoc.element.node-etcd.client" id="apidoc.element.node-etcd.client">
        function <span class="apidocSignatureSpan">node-etcd.</span>client
        <span class="apidocSignatureSpan">(hosts, options1, sslopts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Client(hosts, options1, sslopts) {
  this.hosts = hosts;
  this.options = options1;
  this.sslopts = sslopts;
  this._shouldRetry = bind(this._shouldRetry, this);
  this._retry = bind(this._retry, this);
  this._multiserverHelper = bind(this._multiserverHelper, this);
  this["delete"] = bind(this["delete"], this);
  this.patch = bind(this.patch, this);
  this.post = bind(this.post, this);
  this.get = bind(this.get, this);
  this.put = bind(this.put, this);
  this.execute = bind(this.execute, this);
  this.syncmsg = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-etcd.watcher" id="apidoc.element.node-etcd.watcher">
        function <span class="apidocSignatureSpan">node-etcd.</span>watcher
        <span class="apidocSignatureSpan">(etcd, key, index, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Watcher(etcd, key, index, options) {
  this.etcd = etcd;
  this.key = key;
  this.index = index != null ? index : null;
  this.options = options != null ? options : {};
  this._retry = bind(this._retry, this);
  this._respHandler = bind(this._respHandler, this);
  this._resync = bind(this._resync, this);
  this._unexpectedData = bind(this._unexpectedData, this);
  this._valueChanged = bind(this._valueChanged, this);
  this._missingValue = bind(this._missingValue, this);
  this._error = bind(this._error, this);
  this._watch = bind(this._watch, this);
  this.stop = bind(this.stop, this);
  this.stopped = false;
  this.retryAttempts = 0;
  this._watch();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

```javascript
etcd.watch("key");
etcd.watch("key", console.log);
```

The watch command is pretty low level, it does not handle reconnects or
timeouts (Etcd will disconnect you after 5 minutes). Use the `.<span class="apidocCodeKeywordSpan">watcher</span>()` below
if you do not wish to handle this yourself.

### .watchIndex(key, index, [options], callback)

This is a convenience method for get with `{wait: true, waitIndex: index}`.

```javascript
...</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.node-etcd.client" id="apidoc.module.node-etcd.client">module node-etcd.client</a></h1>


    <h2>
        <a href="#apidoc.element.node-etcd.client.client" id="apidoc.element.node-etcd.client.client">
        function <span class="apidocSignatureSpan">node-etcd.</span>client
        <span class="apidocSignatureSpan">(hosts, options1, sslopts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Client(hosts, options1, sslopts) {
  this.hosts = hosts;
  this.options = options1;
  this.sslopts = sslopts;
  this._shouldRetry = bind(this._shouldRetry, this);
  this._retry = bind(this._retry, this);
  this._multiserverHelper = bind(this._multiserverHelper, this);
  this["delete"] = bind(this["delete"], this);
  this.patch = bind(this.patch, this);
  this.post = bind(this.post, this);
  this.get = bind(this.get, this);
  this.put = bind(this.put, this);
  this.execute = bind(this.execute, this);
  this.syncmsg = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.node-etcd.client.prototype" id="apidoc.module.node-etcd.client.prototype">module node-etcd.client.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.node-etcd.client.prototype._doRequest" id="apidoc.element.node-etcd.client.prototype._doRequest">
        function <span class="apidocSignatureSpan">node-etcd.client.prototype.</span>_doRequest
        <span class="apidocSignatureSpan">(options, reqRespHandler)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_doRequest = function (options, reqRespHandler) {
  return request(options, reqRespHandler);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      headers: headers
    };
  };
})(this);
if (options.synchronous === true) {
  callback = syncRespHandler;
}
req = this.<span class="apidocCodeKeywordSpan">_doRequest</span>(options, reqRespHandler);
token.setRequest(req);
if (options.synchronous === true &amp;&amp; options.syncdone === void 0) {
  options.syncdone = false;
  while (!options.syncdone) {
    deasync.runLoopOnce();
  }
  delete options.syncdone;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-etcd.client.prototype._error" id="apidoc.element.node-etcd.client.prototype._error">
        function <span class="apidocSignatureSpan">node-etcd.client.prototype.</span>_error
        <span class="apidocSignatureSpan">(token, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_error = function (token, callback) {
  var error;
  error = new Error('All servers returned error');
  error.errors = token.errors;
  error.retries = token.retries;
  if (callback) {
    return callback(error);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (token.isAborted()) {
  return;
}
if (host == null) {
  if (this._shouldRetry(token)) {
    return this._retry(token, options, callback);
  }
  return this.<span class="apidocCodeKeywordSpan">_error</span>(token, callback);
}
reqRespHandler = (function(_this) {
  return function(err, resp, body) {
    if (token.isAborted()) {
      return;
    }
    if (_this._isHttpError(err, resp)) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-etcd.client.prototype._handleResponse" id="apidoc.element.node-etcd.client.prototype._handleResponse">
        function <span class="apidocSignatureSpan">node-etcd.client.prototype.</span>_handleResponse
        <span class="apidocSignatureSpan">(err, resp, body, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_handleResponse = function (err, resp, body, callback) {
  var error;
  if (callback == null) {
    return;
  }
  if ((body != null ? body.errorCode : void 0) != null) {
    error = new Error((body != null ? body.message : void 0) || 'Etcd error');
    error.errorCode = body.errorCode;
    error.error = body;
    return callback(error, "", (resp != null ? resp.headers : void 0) || {});
  } else {
    return callback(null, body, (resp != null ? resp.headers : void 0) || {});
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
        httpstatus: resp != null ? resp.statusCode : void 0,
        httpbody: resp != null ? resp.body : void 0,
        response: resp,
        timestamp: new Date()
      });
      return _this._multiserverHelper(_.rest(servers), options, token, callback);
    }
    return _this.<span class="apidocCodeKeywordSpan">_handleResponse</span>(err, resp, body, callback);
  };
})(this);
syncRespHandler = (function(_this) {
  return function(err, body, headers) {
    options.syncdone = true;
    return _this.syncmsg = {
      err: err,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-etcd.client.prototype._isHttpError" id="apidoc.element.node-etcd.client.prototype._isHttpError">
        function <span class="apidocSignatureSpan">node-etcd.client.prototype.</span>_isHttpError
        <span class="apidocSignatureSpan">(err, resp)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_isHttpError = function (err, resp) {
  return err || (((resp != null ? resp.statusCode : void 0) != null) &amp;&amp; resp.statusCode &gt;= 500);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  return this._error(token, callback);
}
reqRespHandler = (function(_this) {
  return function(err, resp, body) {
    if (token.isAborted()) {
      return;
    }
    if (_this.<span class="apidocCodeKeywordSpan">_isHttpError</span>(err, resp)) {
      token.errors.push({
        server: host,
        httperror: err,
        httpstatus: resp != null ? resp.statusCode : void 0,
        httpbody: resp != null ? resp.body : void 0,
        response: resp,
        timestamp: new Date()
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-etcd.client.prototype._isPossibleLeaderElection" id="apidoc.element.node-etcd.client.prototype._isPossibleLeaderElection">
        function <span class="apidocSignatureSpan">node-etcd.client.prototype.</span>_isPossibleLeaderElection
        <span class="apidocSignatureSpan">(errors)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_isPossibleLeaderElection = function (errors) {
  var checkError;
  checkError = function(e) {
    var ref, ref1, ref2, ref3;
    return ((ref = e != null ? (ref1 = e.httperror) != null ? ref1.code : void 0 : void 0) === 'ECONNREFUSED' || ref === 'ECONNRESET
') || ((ref2 = e != null ? (ref3 = e.httpbody) != null ? ref3.errorCode : void 0 : void 0) === 300 || ref2 === 301) || /Not current
 leader/.test(e != null ? e.httpbody : void 0);
  };
  return (errors != null) &amp;&amp; _.every(errors, checkError);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  if (process.env.RUNNING_UNIT_TESTS === 'true') {
    return 1;
  }
  return 100 * Math.pow(16, retries);
};

Client.prototype._shouldRetry = function(token) {
  return token.retries &lt; token.maxRetries &amp;&amp; this.<span class="apidocCodeKeywordSpan">_isPossibleLeaderElection<!--
span-->(token.errors);
};

Client.prototype._error = function(token, callback) {
  var error;
  error = new Error('All servers returned error');
  error.errors = token.errors;
  error.retries = token.retries;
...</span></pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-etcd.client.prototype._multiserverHelper" id="apidoc.element.node-etcd.client.prototype._multiserverHelper">
        function <span class="apidocSignatureSpan">node-etcd.client.prototype.</span>_multiserverHelper
        <span class="apidocSignatureSpan">(servers, options, token, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_multiserverHelper = function (servers, options, token, callback) {
  var host, req, reqRespHandler, syncRespHandler;
  host = _.first(servers);
  options.url = "" + host + options.path;
  if (token.isAborted()) {
    return;
  }
  if (host == null) {
    if (this._shouldRetry(token)) {
      return this._retry(token, options, callback);
    }
    return this._error(token, callback);
  }
  reqRespHandler = (function(_this) {
    return function(err, resp, body) {
      if (token.isAborted()) {
        return;
      }
      if (_this._isHttpError(err, resp)) {
        token.errors.push({
          server: host,
          httperror: err,
          httpstatus: resp != null ? resp.statusCode : void 0,
          httpbody: resp != null ? resp.body : void 0,
          response: resp,
          timestamp: new Date()
        });
        return _this._multiserverHelper(_.rest(servers), options, token, callback);
      }
      return _this._handleResponse(err, resp, body, callback);
    };
  })(this);
  syncRespHandler = (function(_this) {
    return function(err, body, headers) {
      options.syncdone = true;
      return _this.syncmsg = {
        err: err,
        body: body,
        headers: headers
      };
    };
  })(this);
  if (options.synchronous === true) {
    callback = syncRespHandler;
  }
  req = this._doRequest(options, reqRespHandler);
  token.setRequest(req);
  if (options.synchronous === true &amp;&amp; options.syncdone === void 0) {
    options.syncdone = false;
    while (!options.syncdone) {
      deasync.runLoopOnce();
    }
    delete options.syncdone;
    return this.syncmsg;
  } else {
    return req;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  var opt, servers, syncResp, token;
  opt = _.defaults(_.clone(options), this.options, defaultRequestOptions, {
    method: method
  });
  opt.clientOptions = _.defaults(opt.clientOptions, defaultClientOptions);
  servers = _.shuffle(this.hosts);
  token = new CancellationToken(servers, opt.clientOptions.maxRetries);
  syncResp = this.<span class="apidocCodeKeywordSpan">_multiserverHelper</span>(servers, opt, token, callback);
  if (options.synchronous === true) {
    return syncResp;
  } else {
    return token;
  }
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-etcd.client.prototype._retry" id="apidoc.element.node-etcd.client.prototype._retry">
        function <span class="apidocSignatureSpan">node-etcd.client.prototype.</span>_retry
        <span class="apidocSignatureSpan">(token, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_retry = function (token, options, callback) {
  var doRetry, waitTime;
  doRetry = (function(_this) {
    return function() {
      return _this._multiserverHelper(token.servers, options, token, callback);
    };
  })(this);
  waitTime = this._waitTime(token.retries);
  token.retries += 1;
  return setTimeout(doRetry, waitTime);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
host = _.first(servers);
options.url = "" + host + options.path;
if (token.isAborted()) {
  return;
}
if (host == null) {
  if (this._shouldRetry(token)) {
    return this.<span class="apidocCodeKeywordSpan">_retry</span>(token, options, callback);
  }
  return this._error(token, callback);
}
reqRespHandler = (function(_this) {
  return function(err, resp, body) {
    if (token.isAborted()) {
      return;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-etcd.client.prototype._shouldRetry" id="apidoc.element.node-etcd.client.prototype._shouldRetry">
        function <span class="apidocSignatureSpan">node-etcd.client.prototype.</span>_shouldRetry
        <span class="apidocSignatureSpan">(token)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_shouldRetry = function (token) {
  return token.retries &lt; token.maxRetries &amp;&amp; this._isPossibleLeaderElection(token.errors);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var host, req, reqRespHandler, syncRespHandler;
host = _.first(servers);
options.url = "" + host + options.path;
if (token.isAborted()) {
  return;
}
if (host == null) {
  if (this.<span class="apidocCodeKeywordSpan">_shouldRetry</span>(token)) {
    return this._retry(token, options, callback);
  }
  return this._error(token, callback);
}
reqRespHandler = (function(_this) {
  return function(err, resp, body) {
    if (token.isAborted()) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-etcd.client.prototype._waitTime" id="apidoc.element.node-etcd.client.prototype._waitTime">
        function <span class="apidocSignatureSpan">node-etcd.client.prototype.</span>_waitTime
        <span class="apidocSignatureSpan">(retries)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_waitTime = function (retries) {
  if (process.env.RUNNING_UNIT_TESTS === 'true') {
    return 1;
  }
  return 100 * Math.pow(16, retries);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Client.prototype._retry = function(token, options, callback) {
  var doRetry, waitTime;
  doRetry = (function(_this) {
    return function() {
      return _this._multiserverHelper(token.servers, options, token, callback);
    };
  })(this);
  waitTime = this.<span class="apidocCodeKeywordSpan">_waitTime</span>(token.retries);
  token.retries += 1;
  return setTimeout(doRetry, waitTime);
};

Client.prototype._waitTime = function(retries) {
  if (process.env.RUNNING_UNIT_TESTS === 'true') {
    return 1;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-etcd.client.prototype.delete" id="apidoc.element.node-etcd.client.prototype.delete">
        function <span class="apidocSignatureSpan">node-etcd.client.prototype.</span>delete
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">delete = function (options, callback) {
  return this.execute("DELETE", options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
etcd.del("key/", { recursive: true }, console.log);
```

Available options include:

- `recursive` (bool, delete recursively)

Alias: `.<span class="apidocCodeKeywordSpan">delete</span>()`

### .compareAndDelete(key, oldvalue, [options], [callback])

Convenience method for test and delete (delete with {prevValue: oldvalue})

```javascript
etcd.compareAndDelete("key", "oldvalue");
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-etcd.client.prototype.execute" id="apidoc.element.node-etcd.client.prototype.execute">
        function <span class="apidocSignatureSpan">node-etcd.client.prototype.</span>execute
        <span class="apidocSignatureSpan">(method, options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">execute = function (method, options, callback) {
  var opt, servers, syncResp, token;
  opt = _.defaults(_.clone(options), this.options, defaultRequestOptions, {
    method: method
  });
  opt.clientOptions = _.defaults(opt.clientOptions, defaultClientOptions);
  servers = _.shuffle(this.hosts);
  token = new CancellationToken(servers, opt.clientOptions.maxRetries);
  syncResp = this._multiserverHelper(servers, opt, token, callback);
  if (options.synchronous === true) {
    return syncResp;
  } else {
    return token;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    return syncResp;
  } else {
    return token;
  }
};

Client.prototype.put = function(options, callback) {
  return this.<span class="apidocCodeKeywordSpan">execute</span>("PUT", options, callback);
};

Client.prototype.get = function(options, callback) {
  return this.execute("GET", options, callback);
};

Client.prototype.post = function(options, callback) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-etcd.client.prototype.get" id="apidoc.element.node-etcd.client.prototype.get">
        function <span class="apidocSignatureSpan">node-etcd.client.prototype.</span>get
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">get = function (options, callback) {
  return this.execute("GET", options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

## Basic usage

```javascript
var Etcd = require('node-etcd');
var etcd = new Etcd();
etcd.set("key", "value");
etcd.<span class="apidocCodeKeywordSpan">get</span>("key", console.log);
```

Callbacks follows the default (error, result) nodejs convention:

```javascript
function callback(err, res) {
console.log("Error: ", err);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-etcd.client.prototype.patch" id="apidoc.element.node-etcd.client.prototype.patch">
        function <span class="apidocSignatureSpan">node-etcd.client.prototype.</span>patch
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">patch = function (options, callback) {
  return this.execute("PATCH", options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-etcd.client.prototype.post" id="apidoc.element.node-etcd.client.prototype.post">
        function <span class="apidocSignatureSpan">node-etcd.client.prototype.</span>post
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">post = function (options, callback) {
  return this.execute("POST", options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
- 2.1.4 - Don't wait before reconnecting if Etcd server times out our watcher.
- 2.1.3 - Etcd sends an empty response on timeout in recent versions. Parsing
  the empty message caused watcher to emit error. Now it reconnects instead.
- 2.1.2 - Exponential backoff (retry), fix spinning reconnect on error. (@ptte)
- 2.1.1 - Increase request pool.maxSockets to 100
- 2.1.0 - Use proper error objects instead of strings for errors.
- 2.0.10 - Fix error in documentation
- 2.0.9 - Added .<span class="apidocCodeKeywordSpan">post</span>() alias of .create(). Added .compareAndDelete() (for etcd v0.3.
0)
- 2.0.8 - Watchers can be canceled. In-order keys using #create(). Raw requests using #raw().
- 2.0.7 - Avoid calling callback if callback not given.
- 2.0.6 - Refactoring, fix responsehandler error.
- 2.0.5 - Undo use of 'x-etcd-index', this refers to global state.
- 2.0.4 - Use 'x-etcd-index' for index when watching a key.
- 2.0.3 - Watcher supports options. Watcher emits etcd action type.
- 2.0.2 - Mkdir and rmdir. Fix watcher for v2 api.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-etcd.client.prototype.put" id="apidoc.element.node-etcd.client.prototype.put">
        function <span class="apidocSignatureSpan">node-etcd.client.prototype.</span>put
        <span class="apidocSignatureSpan">(options, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">put = function (options, callback) {
  return this.execute("PUT", options, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.node-etcd.watcher" id="apidoc.module.node-etcd.watcher">module node-etcd.watcher</a></h1>




    <h2>
        <a href="#apidoc.element.node-etcd.watcher.watcher" id="apidoc.element.node-etcd.watcher.watcher">
        function <span class="apidocSignatureSpan">node-etcd.</span>watcher
        <span class="apidocSignatureSpan">(etcd, key, index, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Watcher(etcd, key, index, options) {
  this.etcd = etcd;
  this.key = key;
  this.index = index != null ? index : null;
  this.options = options != null ? options : {};
  this._retry = bind(this._retry, this);
  this._respHandler = bind(this._respHandler, this);
  this._resync = bind(this._resync, this);
  this._unexpectedData = bind(this._unexpectedData, this);
  this._valueChanged = bind(this._valueChanged, this);
  this._missingValue = bind(this._missingValue, this);
  this._error = bind(this._error, this);
  this._watch = bind(this._watch, this);
  this.stop = bind(this.stop, this);
  this.stopped = false;
  this.retryAttempts = 0;
  this._watch();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

```javascript
etcd.watch("key");
etcd.watch("key", console.log);
```

The watch command is pretty low level, it does not handle reconnects or
timeouts (Etcd will disconnect you after 5 minutes). Use the `.<span class="apidocCodeKeywordSpan">watcher</span>()` below
if you do not wish to handle this yourself.

### .watchIndex(key, index, [options], callback)

This is a convenience method for get with `{wait: true, waitIndex: index}`.

```javascript
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-etcd.watcher.EventEmitter" id="apidoc.element.node-etcd.watcher.EventEmitter">
        function <span class="apidocSignatureSpan">node-etcd.watcher.</span>EventEmitter
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EventEmitter() {
  EventEmitter.init.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-etcd.watcher.init" id="apidoc.element.node-etcd.watcher.init">
        function <span class="apidocSignatureSpan">node-etcd.watcher.</span>init
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">init = function () {
  this.domain = null;
  if (EventEmitter.usingDomains) {
    // if there is an active domain, then attach to it.
    domain = domain || require('domain');
    if (domain.active &amp;&amp; !(this instanceof domain.Domain)) {
      this.domain = domain.active;
    }
  }

  if (!this._events || this._events === Object.getPrototypeOf(this)._events) {
    this._events = new EventHandlers();
    this._eventsCount = 0;
  }

  this._maxListeners = this._maxListeners || undefined;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-etcd.watcher.listenerCount" id="apidoc.element.node-etcd.watcher.listenerCount">
        function <span class="apidocSignatureSpan">node-etcd.watcher.</span>listenerCount
        <span class="apidocSignatureSpan">(emitter, type)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">listenerCount = function (emitter, type) {
  if (typeof emitter.listenerCount === 'function') {
    return emitter.listenerCount(type);
  } else {
    return listenerCount.call(emitter, type);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.node-etcd.watcher.prototype" id="apidoc.module.node-etcd.watcher.prototype">module node-etcd.watcher.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.node-etcd.watcher.prototype._error" id="apidoc.element.node-etcd.watcher.prototype._error">
        function <span class="apidocSignatureSpan">node-etcd.watcher.prototype.</span>_error
        <span class="apidocSignatureSpan">(err)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_error = function (err) {
  var error;
  error = new Error('Connection error, reconnecting.');
  error.error = err;
  error.reconnectCount = this.retryAttempts;
  this.emit('reconnect', error);
  return this._retry();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
if (token.isAborted()) {
  return;
}
if (host == null) {
  if (this._shouldRetry(token)) {
    return this._retry(token, options, callback);
  }
  return this.<span class="apidocCodeKeywordSpan">_error</span>(token, callback);
}
reqRespHandler = (function(_this) {
  return function(err, resp, body) {
    if (token.isAborted()) {
      return;
    }
    if (_this._isHttpError(err, resp)) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-etcd.watcher.prototype._missingValue" id="apidoc.element.node-etcd.watcher.prototype._missingValue">
        function <span class="apidocSignatureSpan">node-etcd.watcher.prototype.</span>_missingValue
        <span class="apidocSignatureSpan">(headers)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_missingValue = function (headers) {
  var error;
  error = new Error('Etcd timed out watcher, reconnecting.');
  error.headers = headers;
  this.retryAttempts = 0;
  this.emit('reconnect', error);
  return this._watch();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    return;
  }
  if ((err != null ? err.errorCode : void 0) === 401 &amp;&amp; (((ref = err.error) != null ? ref.index : void 0) != null)) {
    return this._resync(err);
  } else if (err) {
    return this._error(err);
  } else if (((headers != null ? headers['x-etcd-index'] : void 0) != null) &amp;&amp; (val == null)) {
    return this.<span class="apidocCodeKeywordSpan">_missingValue</span>(headers);
  } else if ((val != null ? (ref1 = val.node) != null ? ref1.modifiedIndex : void 0 : void 0) != null) {
    return this._valueChanged(val, headers);
  } else {
    return this._unexpectedData(val, headers);
  }
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-etcd.watcher.prototype._respHandler" id="apidoc.element.node-etcd.watcher.prototype._respHandler">
        function <span class="apidocSignatureSpan">node-etcd.watcher.prototype.</span>_respHandler
        <span class="apidocSignatureSpan">(err, val, headers)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_respHandler = function (err, val, headers) {
  var ref, ref1;
  if (this.stopped) {
    return;
  }
  if ((err != null ? err.errorCode : void 0) === 401 &amp;&amp; (((ref = err.error) != null ? ref.index : void 0) != null)) {
    return this._resync(err);
  } else if (err) {
    return this._error(err);
  } else if (((headers != null ? headers['x-etcd-index'] : void 0) != null) &amp;&amp; (val == null)) {
    return this._missingValue(headers);
  } else if ((val != null ? (ref1 = val.node) != null ? ref1.modifiedIndex : void 0 : void 0) != null) {
    return this._valueChanged(val, headers);
  } else {
    return this._unexpectedData(val, headers);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-etcd.watcher.prototype._resync" id="apidoc.element.node-etcd.watcher.prototype._resync">
        function <span class="apidocSignatureSpan">node-etcd.watcher.prototype.</span>_resync
        <span class="apidocSignatureSpan">(err)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_resync = function (err) {
  this.index = err.error.index;
  this.retryAttempts = 0;
  this.emit('resync', err);
  return this._watch();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  Watcher.prototype._respHandler = function(err, val, headers) {
var ref, ref1;
if (this.stopped) {
  return;
}
if ((err != null ? err.errorCode : void 0) === 401 &amp;&amp; (((ref = err.error) != null ? ref.index : void 0) != null)) {
  return this.<span class="apidocCodeKeywordSpan">_resync</span>(err);
} else if (err) {
  return this._error(err);
} else if (((headers != null ? headers['x-etcd-index'] : void 0) != null) &amp;&amp; (val == null)) {
  return this._missingValue(headers);
} else if ((val != null ? (ref1 = val.node) != null ? ref1.modifiedIndex : void 0 : void 0) != null) {
  return this._valueChanged(val, headers);
} else {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-etcd.watcher.prototype._retry" id="apidoc.element.node-etcd.watcher.prototype._retry">
        function <span class="apidocSignatureSpan">node-etcd.watcher.prototype.</span>_retry
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_retry = function () {
  var timeout;
  timeout = (Math.pow(2, this.retryAttempts) * 300) + (Math.round(Math.random() * 1000));
  setTimeout(this._watch, timeout);
  return this.retryAttempts++;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
host = _.first(servers);
options.url = "" + host + options.path;
if (token.isAborted()) {
  return;
}
if (host == null) {
  if (this._shouldRetry(token)) {
    return this.<span class="apidocCodeKeywordSpan">_retry</span>(token, options, callback);
  }
  return this._error(token, callback);
}
reqRespHandler = (function(_this) {
  return function(err, resp, body) {
    if (token.isAborted()) {
      return;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-etcd.watcher.prototype._unexpectedData" id="apidoc.element.node-etcd.watcher.prototype._unexpectedData">
        function <span class="apidocSignatureSpan">node-etcd.watcher.prototype.</span>_unexpectedData
        <span class="apidocSignatureSpan">(val, headers)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_unexpectedData = function (val, headers) {
  var error;
  error = new Error('Received unexpected response');
  error.response = val;
  this.emit('error', error);
  return this._retry();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  } else if (err) {
    return this._error(err);
  } else if (((headers != null ? headers['x-etcd-index'] : void 0) != null) &amp;&amp; (val == null)) {
    return this._missingValue(headers);
  } else if ((val != null ? (ref1 = val.node) != null ? ref1.modifiedIndex : void 0 : void 0) != null) {
    return this._valueChanged(val, headers);
  } else {
    return this.<span class="apidocCodeKeywordSpan">_unexpectedData</span>(val, headers);
  }
};

Watcher.prototype._retry = function() {
  var timeout;
  timeout = (Math.pow(2, this.retryAttempts) * 300) + (Math.round(Math.random() * 1000));
  setTimeout(this._watch, timeout);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-etcd.watcher.prototype._valueChanged" id="apidoc.element.node-etcd.watcher.prototype._valueChanged">
        function <span class="apidocSignatureSpan">node-etcd.watcher.prototype.</span>_valueChanged
        <span class="apidocSignatureSpan">(val, headers)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_valueChanged = function (val, headers) {
  this.retryAttempts = 0;
  this.index = val.node.modifiedIndex + 1;
  this.emit('change', val, headers);
  if (val.action != null) {
    this.emit(val.action, val, headers);
  }
  return this._watch();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  if ((err != null ? err.errorCode : void 0) === 401 &amp;&amp; (((ref = err.error) != null ? ref.index : void 0) != null)) {
    return this._resync(err);
  } else if (err) {
    return this._error(err);
  } else if (((headers != null ? headers['x-etcd-index'] : void 0) != null) &amp;&amp; (val == null)) {
    return this._missingValue(headers);
  } else if ((val != null ? (ref1 = val.node) != null ? ref1.modifiedIndex : void 0 : void 0) != null) {
    return this.<span class="apidocCodeKeywordSpan">_valueChanged</span>(val, headers);
  } else {
    return this._unexpectedData(val, headers);
  }
};

Watcher.prototype._retry = function() {
  var timeout;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-etcd.watcher.prototype._watch" id="apidoc.element.node-etcd.watcher.prototype._watch">
        function <span class="apidocSignatureSpan">node-etcd.watcher.prototype.</span>_watch
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_watch = function () {
  if (this.index === null) {
    return this.request = this.etcd.watch(this.key, this.options, this._respHandler);
  } else {
    return this.request = this.etcd.watchIndex(this.key, this.index, this.options, this._respHandler);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  this._valueChanged = bind(this._valueChanged, this);
  this._missingValue = bind(this._missingValue, this);
  this._error = bind(this._error, this);
  this._watch = bind(this._watch, this);
  this.stop = bind(this.stop, this);
  this.stopped = false;
  this.retryAttempts = 0;
  this.<span class="apidocCodeKeywordSpan">_watch</span>();
}

Watcher.prototype.stop = function() {
  this.stopped = true;
  this.request.abort();
  return this.emit('stop', "Watcher for '" + this.key + "' aborted.");
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-etcd.watcher.prototype.constructor" id="apidoc.element.node-etcd.watcher.prototype.constructor">
        function <span class="apidocSignatureSpan">node-etcd.watcher.prototype.</span>constructor
        <span class="apidocSignatureSpan">(etcd, key, index, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Watcher(etcd, key, index, options) {
  this.etcd = etcd;
  this.key = key;
  this.index = index != null ? index : null;
  this.options = options != null ? options : {};
  this._retry = bind(this._retry, this);
  this._respHandler = bind(this._respHandler, this);
  this._resync = bind(this._resync, this);
  this._unexpectedData = bind(this._unexpectedData, this);
  this._valueChanged = bind(this._valueChanged, this);
  this._missingValue = bind(this._missingValue, this);
  this._error = bind(this._error, this);
  this._watch = bind(this._watch, this);
  this.stop = bind(this.stop, this);
  this.stopped = false;
  this.retryAttempts = 0;
  this._watch();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.node-etcd.watcher.prototype.stop" id="apidoc.element.node-etcd.watcher.prototype.stop">
        function <span class="apidocSignatureSpan">node-etcd.watcher.prototype.</span>stop
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">stop = function () {
  this.stopped = true;
  this.request.abort();
  return this.emit('stop', "Watcher for '" + this.key + "' aborted.");
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
watcher.on("change", console.log); // Triggers on all changes
watcher.on("set", console.log);    // Triggers on specific changes (set ops)
watcher.on("delete", console.log); // Triggers on delete.
watcher2 = etcd.watcher("key", null, {recursive: true});
watcher2.on("error", console.log);
```

You can cancel a watcher by calling `.<span class="apidocCodeKeywordSpan">stop</span>()`.

Signals:
- `change` - emitted on value change
- `reconnect` - emitted on reconnect
- `error` - emitted on invalid content
- `&lt;etcd action&gt;` - the etcd action that triggered the watcher (ex: set, delete).
- `stop` - watcher was canceled.
...</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
</body></html>